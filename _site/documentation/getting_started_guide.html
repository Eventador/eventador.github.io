<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Getting Started Guide</title>
  <meta name="description" content="Beta">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://yourdomain.com/documentation/getting_started_guide.html">
  <link rel="alternate" type="application/rss+xml" title="Eventador" href="http://yourdomain.com/feed.xml">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Eventador</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/documentation/">Documentation</a>
          
        
          
        
          
          <a class="page-link" href="/">Welcome</a>
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Getting Started Guide</h1>
    <p class="post-meta"><time datetime="2016-06-28T18:46:40-05:00" itemprop="datePublished">Jun 28, 2016</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h2 id="beta">Beta</h2>

<p>Eventador.io is currently in Beta. Please submit feedback to <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#104;&#101;&#108;&#108;&#111;&#064;&#101;&#118;&#101;&#110;&#116;&#097;&#100;&#111;&#114;&#046;&#105;&#111;">&#104;&#101;&#108;&#108;&#111;&#064;&#101;&#118;&#101;&#110;&#116;&#097;&#100;&#111;&#114;&#046;&#105;&#111;</a></p>

<h2 id="getting-started">Getting Started</h2>

<p>Eventador is a high performance real-time data pipeline based on Apache Kafka. Eventador is deployed to Amazon AWS, and delivered as a service.</p>

<p>Eventador provides a producer and consumer interfaces. It also provides an Aggregation Interface in the form of PipelineDB/PostgreSQL. Other Interfaces will be added in the future.</p>

<p>You produce data to Eventador using a REST interface, and consume data via the same REST interface. The REST interface also provides control over Kafka topics and schema. You can create multiple pipelines to form more complex event processing systems.</p>

<p>You may also consume data via the Aggregation Interface. The Aggregation Interface is based on PipelineDB/PostgreSQL and allows you to build ‘continuous views’ to aggregate, query, and perform stream processing in real time. The PostgreSQL API provides access to a massive eco-system of SQL compliant tools and drivers. You can build complex programs and algorithms or simply point a reporting tool at the Aggregation Interface.</p>

<p>Getting started with Eventador takes just a few simple steps.</p>

<h2 id="creating-an-account">Creating an account.</h2>

<p>To get started you must have an account. <a href="http://console.eventador.io/register">Register here</a>.</p>

<h2 id="building-pipelines">Building Pipelines</h2>

<p>Pipelines are created on a deployment. So a deployment must first be created for the pipeline. A deployment is a group of AWS compute resources. Multiple pipelines may exist on a single deployment. Deployments are scaled independently of each other. When a pipeline is created, a Kafka topic is created for that pipeline along with all the required plumbing and components.</p>

<p>The <a href="https://console.eventador.io">Eventador Console</a> allows for creation of a deployments and pipelines.</p>

<h1 id="creating-a-deployment">Creating a deployment:</h1>
<ul>
  <li>Click the <a href="http://console.eventador.io/deployments">Deployment</a> tab.</li>
  <li>Select the ‘Create Deployment’ button.</li>
  <li>Name the deployment, and select the compute resource style appropriate for the workload being run.</li>
  <li>Click create. A deployment may take a bit of time to provision. A deployment can not be used until it’s status is ‘Active’ in the <a href="http://console.eventador.io/deployments">Deployments</a> tab.</li>
  <li>An ACL must be created to allow the producers to connect. On the [Deployments] tab, select the deployment-&gt;ACLS-&gt;add ACL. Add in a CIDR notation for the IP to whitelist.</li>
</ul>

<p>A pipeline can now be created on the deployment.</p>

<h1 id="creating-a-pipeline">Creating a pipeline:</h1>
<ul>
  <li>Click the <a href="http://console.eventador.io/pipelines">Pipelines</a> tab.</li>
  <li>Select the ‘Create Pipeline’ button.</li>
  <li>Name the pipeline, give it a description, select the Deployment that was just created, and give a user/password for the data store.</li>
  <li>Click create. A pipeline is now created and can be seen under the <a href="http://console.eventador.io/pipelines">Pipelines</a> tab.</li>
</ul>

<h1 id="understanding-endpoints">Understanding Endpoints</h1>
<p>Endpoints are found by selecting <a href="http://console.eventador.io/pipelines">Pipelines</a> tab, then the pipeline, then connections. There are connection strings for:</p>

<ul>
  <li>Pipeline REST Interface: Produce</li>
  <li>Pipeline Rest Interface: consume</li>
  <li>Aggregation Interface (PipelineDB): Consume</li>
</ul>

<p>These endpoints will be needed to produce and consume data from your new pipeline.</p>

<h2 id="publishing-data-to-the-eventador-pipeline">Publishing Data to the Eventador Pipeline</h2>

<p>Publishing data to the Eventador Pipeline is done via the REST endpoint. It’s important to note that a schema must be defined for the Pipeline before data can be sent to it. In this case we are using serializing data to Apache Avro.</p>

<h1 id="creating-a-schema">Creating a schema</h1>

<p>The examples below assume curl is installed on your system. Instructions are for OSX. Linux uses <code class="highlighter-rouge">curl -i</code> vs <code class="highlighter-rouge">curl -s</code>. You may need to remove line breaks in the examples. You can also use the utility <a href="https://stedolan.github.io/jq/">jq</a> to format and colorize output on the command line.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>curl -s -X POST -H <span class="s2">"Content-Type: application/vnd.kafka.avro.v1+json"</span> <span class="se">\</span>
--data <span class="s1">'{"value_schema": "{\"type\": \"record\",\"name\": \"brewery\",
\"fields\":[{\"name\": \"sensor\", \"type\":\"string\"},{\"name\": \"temp\", \"type\": \"int\"}]}",
"records": [{"value": {"sensor": "MashTun1", "temp":28}},{"value": {"sensor": "MashTun2", "temp":27}}]}'</span> <span class="se">\</span>
https://api.3b4ff5ad.vip.eventador.io/topics/&lt;username&gt;_brewery
</code></pre>
</div>

<p>More information on the REST interface can be <a href="http://docs.confluent.io/3.0.0/kafka-rest/docs/api.html">found here</a>.</p>

<h2 id="consuming-data-from-eventador">Consuming Data from Eventador</h2>

<p>Data can be consumed from Eventador in two ways. It can be directly consumed from the Eventador Pipeline REST interface, or it can be consumed using the Aggregation Interface (PipelineDB).</p>

<h1 id="consuming-from-the-eventador-pipeline-using-the-rest-interface">Consuming from the Eventador Pipeline using the REST interface</h1>

<p>Consuming data via the REST interface requires two steps. First registering a consumer, then consuming from the pipeline.</p>

<h1 id="registering-a-consumer">Registering a consumer</h1>

<p>First we must register a consumer. This ensures Kafka understands state as data is consumed.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>curl -s -X POST -H <span class="s2">"Content-Type: application/vnd.kafka.v1+json"</span> <span class="se">\</span>
--data <span class="s1">'{"format": "avro", "auto.offset.reset": "smallest"}'</span> <span class="se">\</span>
https://api.xxxxx.vip.eventador.io/consumers/my_consumer

<span class="o">{</span>
  <span class="s2">"instance_id"</span>: <span class="s2">"rest-consumer-1"</span>,
   <span class="s2">"base_uri"</span>: <span class="s2">"https://api.xxxxx.eventador.io/consumers/my_consumer/instances/rest-consumer-1"</span>
<span class="o">}</span>

</code></pre>
</div>

<p>Next consume the data using the URI that is returned when we create a consumer.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>curl -s -X GET -H <span class="s2">"Accept: application/vnd.kafka.avro.v1+json"</span> <span class="se">\</span>
https://api.xxxxx.eventador.io/consumers/my_consumer/instances/rest-consumer-1/topics/&lt;username&gt;_brewery
<span class="o">[</span>
  <span class="o">{</span>
     <span class="s2">"key"</span>: null,
     <span class="s2">"value"</span>: <span class="o">{</span><span class="s2">"sensor"</span>: <span class="s2">"MashTun1"</span>, <span class="s2">"temp"</span>: 28<span class="o">}</span>,
     <span class="s2">"partition"</span>: 0,
     <span class="s2">"offset"</span>: 0
   <span class="o">}</span>,
   <span class="o">{</span>
     <span class="s2">"key"</span>: null,
     <span class="s2">"value"</span>: <span class="o">{</span><span class="s2">"sensor"</span>: <span class="s2">"MashTun2"</span>, <span class="s2">"temp"</span>: 27<span class="o">}</span>,
     <span class="s2">"partition"</span>: 0,
     <span class="s2">"offset"</span>: 1
   <span class="o">}</span>
<span class="o">]</span>
</code></pre>
</div>

<h1 id="consuming-from-the-eventador-aggregation-interface">Consuming from the Eventador Aggregation Interface</h1>

<p>The Aggregation Interface is based on PipelineDB/PostgreSQL. You can define a continuous view using simple SQL syntax and the views are continuously updated as data comes in from the pipeline. Views can be simple aggregations, time-windows, or anything else as defined by the PipelineDB SQL syntax and functions.</p>

<p>A continuous view is a view of a SQL Stream. The stream is automatically built when a pipeline is created and has a sample continuous view created on it. You can create continuous views as needed. The continuous view is named <code class="highlighter-rouge">ev_sample_view</code> and is available in the users database. The database enforces SSL and causes the client to use SSL by default.</p>

<p>To login to the database and query the sample view and create more continuous views:</p>

<ul>
  <li>Download the PipelineDB client <a href="https://www.pipelinedb.com/download">here</a>.</li>
  <li>Connect to the database using psql with your username, database. The login information, and hostname is available in the Eventador Console at <code class="highlighter-rouge">http://console.eventador.io/pipeline_detail/&lt;pipeline_name&gt;</code>.</li>
  <li>The username is <code class="highlighter-rouge">login name</code>, the database name is <code class="highlighter-rouge">username_pipelinename</code></li>
</ul>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>psql -U &lt;username&gt; -h &lt;hostname&gt; -p 9000 &lt;database name&gt;
</code></pre>
</div>

<p>Query the sample view:</p>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">ev_sample_view</span> <span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>
</code></pre>
</div>

<p>Continuous views are created on a stream. Every pipeline has a default stream named <code class="highlighter-rouge">&lt;pipeline name&gt;_stream</code> created automatically, with a payload field with the data type JSON.</p>

<p>You can create a new continuous view:</p>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="c1">-- average temperature of sensors over the last 5 minutes by sensor name
</span><span class="k">CREATE</span> <span class="n">CONTINUOUS</span> <span class="k">VIEW</span> <span class="n">brewery_sensor_temps</span> <span class="k">WITH</span> <span class="p">(</span><span class="n">max_age</span> <span class="o">=</span> <span class="s1">'5 minutes'</span><span class="p">)</span> <span class="k">AS</span>
   <span class="k">SELECT</span> <span class="n">payload</span><span class="o">-&gt;&gt;</span><span class="s1">'sensor'</span><span class="p">,</span> <span class="k">AVG</span><span class="p">((</span><span class="n">payload</span><span class="o">-&gt;&gt;</span><span class="s1">'temp'</span><span class="p">::</span><span class="n">text</span><span class="p">)::</span><span class="n">numeric</span><span class="p">)</span>
   <span class="k">FROM</span> <span class="n">brewery_stream</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">payload</span><span class="o">-&gt;&gt;</span><span class="s1">'sensor'</span><span class="p">;</span>
</code></pre>
</div>

<p>More information on continuous views is available in the <a href="http://docs.pipelinedb.com/continuous-views.html">PipelineDB documentation</a></p>

<h2 id="monitoring-the-pipeline">Monitoring the pipeline</h2>

<p>You can monitor your pipeline via the Eventador Console. From the <a href="http://console.eventador.io/pipelines">pipelines</a> click on the pipeline to monitor. The statistics (default) tab shows some metrics about the pipeline.</p>

<h2 id="software-versions">Software Versions</h2>
<ul>
  <li>Kafka v0.10</li>
  <li>Confluent kafka-REST proxy v3.0.0</li>
  <li>Confluent Schema Registry v3.0.0</li>
  <li>PipelineDB 0.9.3/PostgreSQL 9.5</li>
</ul>

  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Eventador</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Eventador</li>
          <li><a href="mailto:hello@eventador.io">hello@eventador.io</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/eventador"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">eventador</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/eventadorlabs"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">eventadorlabs</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Eventador is a high performance real-time data pipeline based on Apache Kafka. Eventador is deployed to Amazon AWS, and delivered as a service.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
